{"version":3,"sources":["components/Home/Home.styles.jsx","components/Home/Chat/Chat.styles.jsx","components/Home/Chat/Chat.jsx","components/Home/Home.jsx","containers/Home/Home.js","components/ChatInterface/ChatInterface.styles.jsx","components/ChatInterface/ChatInterface.jsx","App.js","index.js"],"names":["HomeContainer","styled","div","ChatContainer","TabPanel","Tab","props","CurrentTab","Form","Chat","Navigate","useNavigate","React","useState","setCurrentTab","roomaction","a","localStorage","setItem","$","val","axios","method","url","Baseurl","data","roomId","password","headers","status","alert","message","roomCreated","className","Button","onClick","TextField","id","label","variant","type","color","Home","ChatWindow","OnlineUsers","TypingUsers","UsersInfo","ChatPanel","ChatHeader","ChatBody","Me","MeDate","Others","OthersDate","MeName","OthersName","Search","Input","ChatInterface","clear","navigate","setdata","online_users","setonline_users","typing_users","settyping_users","typing","room_name","useParams","username","getItem","ws","setws","reconnect","WebSocket","ws_url","onopen","send","JSON","stringify","onmessage","event","msg","parse","users_typing","undefined","messages","pre","onclose","onerror","error","console","log","useEffect","nottyping","clearTimeout","style","width","margin","map","user","index","fontSize","length","substring","item","date","placeholder","enterButton","size","onChange","setTimeout","onSearch","value","App","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4e23292c.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nexport const HomeContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin:2rem;\n    padding:3rem;\n    @media (max-width: 550px) {\n        padding:2rem 0 2rem 0;\n    }\n    @media (max-width: 400px) {\n        margin:1rem;\n    }\n`;\n\n","import styled from 'styled-components';\n\n\nexport const ChatContainer = styled.div`\n    max-width:650px;\n    @media (max-width: 768px) {\n        width:100%;\n    }\n`;\n\nexport const TabPanel = styled.div`\n    display: flex;\n    flex-direction: row;\n    background-color: #fff;\n    height:4rem;\n    max-width:650px;\n    margin:auto;\n    justify-content: space-between;\n    @media (max-width: 768px) {\n        width:100%;\n    }\n    box-shadow: 0px 0px 5px #ccc;\n`;\n\nexport const Tab = styled.div`\n    // padding:0.5rem 2rem;\n    font-size:1.2rem;\n    color:#000;\n    width:200px;\n    color: ${props=>(props.CurrentTab)?\"#007FFF\":\"\"};\n    @media (max-width: 768px) {\n        // padding:0.5rem 1rem;\n        font-size:1rem;\n    }\n    @media (max-width: 500px) {\n        font-size:0.8rem;\n    }\n`\n\nexport const Form = styled.div`\n    box-shadow: 0px 0px 1px #ccc;\n    padding:3rem 6rem;\n    border:1px solid #ccc;\n    display:flex;\n    flex-direction:column;\n    @media (max-width: 768px) {\n        padding:3rem 3rem;\n    }\n    @media (max-width: 500px) {\n        padding:3rem 2rem;\n    }\n`\n\n","import React from 'react';\nimport {ChatContainer,TabPanel,Tab,Form} from './Chat.styles.jsx';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport axios from 'axios';\nimport {Baseurl} from \"../../../App\";\nimport $ from 'jquery';\nimport {useNavigate} from 'react-router-dom';\n\nconst Chat = () => {\n    const Navigate = useNavigate();\n    const [CurrentTab,setCurrentTab] = React.useState(0);\n    const roomaction = async () => {\n        if(CurrentTab===0){\n            localStorage.setItem('username',$('#username').val());\n            Navigate(`/chat/${$(\"#roomId\").val()}`);\n        }\n        else if(CurrentTab===1){\n            if($(\"#conformpassword\").val()===$(\"#password\").val()){\n                try{\n                    const data = await axios({\n                        method: 'post',\n                        url: `${Baseurl}/create_room`,\n                        data: {\n                            roomId: $(\"#roomId\").val(),\n                            password: $(\"#password\").val()\n                        },\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'accept': 'application/json'\n                        }\n                    });\n                    if(data.data.status===200){\n                        alert(`${data.data.message} roomId:${data.data.roomCreated.roomId} password:${data.data.roomCreated.password}`);\n                    }else{\n                        alert(`${data.data.message}`);\n                    }\n                }catch(err){\n                    alert(\"Room already exists\");\n                }\n            }else{\n                alert(\"password and conformpassword not matched\");\n            }\n        }\n        else{\n            try{\n                const data = await axios({\n                    method: 'delete',\n                    url: `${Baseurl}/delete_room`,\n                    data: {\n                        roomId: $(\"#roomId\").val(),\n                        password: $(\"#password\").val()\n                    },\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'accept': 'application/json'\n                    }\n                });\n                if(data.data.status===200){\n                    alert(`${data.data.message}`);\n                }else{\n                    alert(`${data.data.message}`);\n                }\n            }catch(err){\n                alert(\"invalid roomId or password\");\n            }\n        }\n    }\n    return (\n        <ChatContainer>\n            <h3 className=\"text-center mb-4\">Chat Rooms</h3>\n            <TabPanel>\n                <Button onClick={()=>{\n                        setCurrentTab(0);\n                    }}>\n                    <Tab CurrentTab={(CurrentTab===0)?true:false} >\n                        join room\n                    </Tab>\n                </Button>\n                <Button onClick={()=>{\n                        setCurrentTab(1);\n                    }}>\n                    <Tab CurrentTab={(CurrentTab===1)?true:false} >\n                        create room\n                    </Tab>\n                </Button>\n                <Button onClick={()=>{\n                        setCurrentTab(2);\n                    }}>\n                    <Tab CurrentTab={(CurrentTab===2)?true:false} >\n                        delete room\n                    </Tab>\n                </Button>\n            </TabPanel>\n            <Form>\n                {\n                    (CurrentTab===0)?(\n                        <>\n                            <TextField id=\"username\" className=\"mb-2\" label=\"username\" variant=\"standard\" />\n                            <br/>\n                        </>\n                    ):(\n                        <>\n                        </>\n                    )\n                }\n                <TextField id=\"roomId\" className=\"mb-2\" label=\"roomId\" variant=\"standard\" />\n                <br/>\n\n                {\n                    (CurrentTab===1||CurrentTab===2)?(\n                        <>\n                            <TextField id=\"password\" className=\"mb-2\" type=\"password\" label=\"password\" variant=\"standard\" />\n                            <br/>\n                            {\n                                (CurrentTab===1)?(\n                                    <>\n                                        <TextField id=\"conformpassword\" className=\"mb-2\" type=\"password\" label=\"conform password\" variant=\"standard\" />\n                                        <br/>\n                                        <br/>\n                                    </>\n                                ):(\n                                    <>\n                                        <br/>\n                                    </>\n                                )\n                            }\n                        </>\n                    ):(\n                        <>\n                            <br/>\n                        </>\n                    )\n                }\n                <Button variant=\"outlined\" color={\n                        (CurrentTab===0)?\"primary\":\n                        (CurrentTab===1)?\"success\":\"secondary\"  \n                    } \n                    className=\"mb-3\" \n                    onClick={roomaction}\n                    >\n                        {\n                            (CurrentTab===0)?\"join room\":\n                            (CurrentTab===1)?\"create room\":\n                            (CurrentTab===2)?\"delete room\":\"\"\n                        }\n                </Button>\n            </Form>\n        </ChatContainer>\n    )\n}\n\nexport default Chat;\n","import React from 'react';\nimport {HomeContainer} from \"./Home.styles.jsx\";\nimport Chat from \"./Chat/Chat\";\n\nconst Home = () => {\n    return (\n        <>\n            <HomeContainer>\n                <Chat/>\n            </HomeContainer>\n        </>\n    )\n}\n\nexport default Home\n","import Home from \"../../components/Home/Home\";\n\nconst HomeContainer = () => {\n    return (\n        <Home>        \n        </Home>\n    );\n}\n\nexport default HomeContainer;","import styled from 'styled-components';\n\nexport const ChatWindow = styled.div`\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    margin:2rem;\n    height: 94vh;\n    border: 1px solid #ccc;\n    @media (max-width:500px){\n        margin:0;\n    }\n    @media (max-width:770px){\n        height: auto;\n    }\n`\n\nexport const OnlineUsers = styled.div`\n    height:50%;\n    overflow-y: scroll;\n    border: 1px solid #ccc;\n    @media (max-width:770px){\n        width:100%;\n    }\n`\n\nexport const TypingUsers = styled(OnlineUsers)`\n`;\n\nexport const UsersInfo = styled.div`\n    height:100%;\n    width:30%;\n    @media (max-width:770px){\n        width:100%;\n        height:30vh;\n        order:2;\n        self-align:flex-end;\n    }\n`\n\nexport const ChatPanel = styled.div`\n    width:70%;\n    @media (max-width:770px){\n        width:100%;\n        order:1;\n        margin-bottom:1rem;\n    }\n`\n\nexport const ChatHeader = styled.div`\n    padding:1rem;\n    border-bottom: 1px solid #ccc;\n`\n\nexport const ChatBody = styled.div`\n    display: flex;\n    flex-direction: column;\n    height:75vh;\n    border-bottom: 1px solid #ccc;\n    overflow-y: scroll;\n    @media (max-width:770px){\n        height:70vh;\n    }\n`\n\nexport const Me = styled.div`\n    background-color: #77cf6d;\n    width:max-content;\n    max-width:60%;\n    word-wrap: break-word;\n    font-size:1.2rem;\n    margin:0rem 1.5rem 1rem 1.5rem; \n    padding:1rem 0.7rem;\n    margin-left:auto;\n    border-radius:0.2rem;\n`\n\nexport const MeDate = styled.div`\n    width:max-content;\n    max-width:60%;\n    word-wrap: break-word;\n    font-size:0.8rem;\n    margin:-1.4rem 1rem 0rem 0rem;\n    padding:1rem 0.7rem;\n    margin-left:auto;\n    border-radius:0.2rem;\n    font-weight:bold;\n`\n\nexport const Others = styled(Me)`\n    background-color: #1890ff;\n    margin-left:1.5rem;\n    margin-right:auto;\n`\n\nexport const OthersDate = styled(Others)`\n    background-color: #fff;  \n    font-weight:bold;\n    padding:0;\n    margin: -0.7rem auto 0rem 1.4rem;\n    font-size:0.8rem;\n`\n\nexport const MeName = styled(MeDate)`\n    margin: 0.6rem 1rem 0.4rem 0rem;\n    margin-left:auto;\n    padding:0;\n    font-weight:900;\n    font-size:1rem;\n`\n\nexport const OthersName = styled(MeDate)`\n    margin: 0.6rem 0rem 0.6rem 1.4rem;\n    margin-right:auto;\n    padding:0;\n    font-weight:900;\n    font-size:1rem;\n`","import React from \"react\";\nimport { useParams } from \"react-router\";\nimport {\n  ChatWindow,\n  TypingUsers,\n  OnlineUsers,\n  UsersInfo,\n  ChatPanel,\n  ChatHeader,\n  ChatBody,\n  Me,MeDate,\n  Others,OthersDate,\n  MeName,OthersName\n} from \"./ChatInterface.styles\";\nimport { Input } from 'antd';\nimport {ws_url} from \"../../App\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst { Search } = Input;\n\nconst ChatInterface = () => {\n  const navigate = useNavigate();\n  const [data,setdata] = React.useState([]);\n  const [online_users,setonline_users] = React.useState([]);\n  const [typing_users,settyping_users] = React.useState([]);\n  let typing = false;\n  const { room_name } = useParams();\n  const username = localStorage.getItem(\"username\") || \"Anonymous\";\n  var [ws,setws] = React.useState(null);\n  const onSend = (value) =>{\n    ws.send(JSON.stringify({\n      type: \"send_message\",\n      data: {\n        username,\n        message: value\n      }\n    }));\n  } \n  const reconnect = () =>{\n    ws = new WebSocket(`${ws_url}/${room_name}`);\n    setws(ws);\n    ws.onopen = () => {\n      ws.send(JSON.stringify({\n        type: \"ONLINE\",\n        username\n      }));\n      ws.send(JSON.stringify({\n        type: \"get_room_data\",\n      }));\n    };\n    ws.onmessage = (event) => {\n      let msg = JSON.parse(event.data);\n      // console.log(msg);\n      // console.log(\"ddjdjc\")\n      if(msg===null){\n        alert(\"Room not found\");\n        navigate(\"/\");\n      }\n      else if(msg.type === \"ONLINE\"){\n        setonline_users(msg.online_users);\n      }\n      else if(msg.type===\"typing\"){\n        settyping_users(msg.users_typing);\n      }\n      else if(msg.type===\"notTyping\"){\n        // console.log(\"not typing\",msg);\n        settyping_users(msg.users_typing);\n      }\n      else if(msg.data===undefined){\n        setdata(msg.messages);\n      }\n      else{\n        setdata(pre=>{\n          return [...pre,msg.data];\n        });\n      }\n    };\n    ws.onclose = () => {\n      // console.log(\"closed\");\n      reconnect();\n    };\n    ws.onerror = (error) => {\n      console.log(error);\n    };\n  }\n  React.useEffect(()=>{\n    reconnect();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[]);\n  // console.log(online_users);\n  var clear;\n  const nottyping = () => {\n    if(typing){\n      ws.send(JSON.stringify({ \n        type: \"notTyping\",\n        username,\n        roomId:room_name\n      }));\n      typing = false;\n      clearTimeout(clear);\n    }\n  }\n  const typing_fun = () => {\n    if(typing===false){\n      ws.send(JSON.stringify({\n        type: \"typing\",\n        username,\n        roomId:room_name\n      }));\n      typing = true;\n      clearTimeout(clear);\n\n    }\n    // nottyping();\n    clear=setTimeout(nottyping,1000);\n  }\n  return (\n    <ChatWindow>\n      <UsersInfo>\n        <OnlineUsers>\n          <h2 className=\"text-center\">Online Users</h2>\n          <ul style={{width:\"max-content\",margin:\"auto\"}}>\n            {online_users.map((user,index)=>{\n              return <li style={{fontSize:\"1.2rem\"}} key={index}>{user}</li>\n            })}\n          </ul>\n        </OnlineUsers>\n        <TypingUsers>\n          <h2 className=\"text-center\">Typing Users</h2>\n          <ul style={{width:\"max-content\",margin:\"auto\"}}>\n            {typing_users.map((user,index)=>{\n              return <li style={{fontSize:\"1.2rem\"}} key={index}>{user} typing...</li>\n            })}\n          </ul>\n        </TypingUsers>\n      </UsersInfo>\n      <ChatPanel>\n        <ChatHeader>\n          <h2 className=\"text-center\">\n            {room_name.length <= 12\n              ? room_name\n              : `${room_name.substring(0, 12)}...`}\n          </h2>\n        </ChatHeader>\n        <ChatBody >\n          {\n            data.map((item,index)=>{\n              return (item.username===username)?(\n                <div key={index}>\n                  <MeName>\n                    {item.username}\n                  </MeName>\n                  <Me>\n                      {item.message}\n                  </Me>\n                  <MeDate>\n                    {item.date}\n                  </MeDate>\n                </div>\n              ):(\n                <div key={index}>\n                  <OthersName>\n                    {item.username}\n                  </OthersName>\n                  <Others>\n                      {item.message}\n                  </Others>\n                  <OthersDate>\n                    {item.date}\n                  </OthersDate>\n                </div>\n\n              )\n            })\n          }\n        </ChatBody>\n        <br/>\n        <div className=\"mb-0 mx-3\">\n          <Search\n            id=\"message\"\n            placeholder=\"send a message ...\"\n            enterButton=\"Send\"\n            size=\"large\"\n            onChange={typing_fun}\n            onSearch={onSend}\n          />\n        </div>\n      </ChatPanel>\n    </ChatWindow>\n  );\n};\n\nexport default ChatInterface;\n","import React from \"react\";\nimport {Route, Routes,HashRouter} from \"react-router-dom\";\nimport Home from \"./containers/Home/Home\";\nimport ChatInterface from \"./components/ChatInterface/ChatInterface\";\nimport 'antd/dist/antd.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <HashRouter >\n        <Routes>\n          <Route  path=\"/\" element={<Home/>} />\n          <Route  path=\"/chat/:room_name\" element={<ChatInterface/>} />\n        </Routes>\n      </HashRouter>\n    </div>\n  );\n}\n\nexport const Baseurl = \"http://localhost\";\n\nexport const ws_url = \"ws://localhost\";\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);"],"sourceRoot":""}